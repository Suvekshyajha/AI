import spacy

nlp = spacy.load("en_core_web_sm")
text = "Apple is looking at buying a UK startup in Silicon Valley for $1 billion."
doc = nlp(text)

print("Original Text:", text)

# 1. Lexical Analysis
print("\nLEXICAL ANALYSIS")
print("Tokens:", [t.text for t in doc])
print("Lemmas:", [t.lemma_ for t in doc])
print("Morph:", [t.morph for t in doc])
print("Stop Words:", [t.text for t in doc if t.is_stop])

# 2. Syntactic Analysis
print("\nSYNTACTIC ANALYSIS")
print("POS Tags:", [(t.text, t.pos_) for t in doc])
print("Dependencies:")
for t in doc:
    print(f"{t.text} --> {t.dep_} --> {t.head.text}")

# 3. Semantic Analysis
print("\nSEMANTIC ANALYSIS")
if doc.has_vector and len(doc) > 1:
    print("Similarity:", doc[0].similarity(doc[1]))
else:
    print("No word vectors for similarity.")

synonyms = {
    "startup": ["new company", "venture"],
    "buying": ["purchasing", "acquiring"],
    "looking": ["considering", "exploring"]
}
print("Synonyms for 'startup':", synonyms.get("startup"))

# 4. Pragmatic Analysis
print("\nPRAGMATIC ANALYSIS")
print("Entities:")
for ent in doc.ents:
    print(ent.text, "-->", ent.label_)

context = {
    "Organizations": [e.text for e in doc.ents if e.label_ == "ORG"],
    "Locations": [e.text for e in doc.ents if e.label_ in ("GPE", "LOC")],
    "Money": [e.text for e in doc.ents if e.label_ == "MONEY"]
}
print("Context:", context)

if context["Organizations"] and context["Money"]:
    print("Context Suggestion: Business acquisition.")

# 5. Machine Translation (Simple)
print("\nMACHINE TRANSLATION")
eng_to_spa = {
    "Apple": "Apple", "is": "est√°", "looking": "buscando", "at": "en",
    "buying": "comprar", "a": "una", "UK": "Reino Unido",
    "startup": "startup", "in": "en", "Silicon": "Silicon",
    "Valley": "Valle", "for": "por", "$1": "1", "billion": "mil millones", ".": "."
}

translation = " ".join(eng_to_spa.get(t.text, t.text) for t in doc)
print("Spanish Translation:", translation)
